<!-- User Profile View -->
<% content_for :title do %>
  JoinJob / User Profile - <%= @user.email %>
<% end %>

<div class="max-w-2xl mx-auto p-6">
  <div class="bg-white rounded-lg border border-gray-200 p-6">
    
    <!-- Header -->
    <div class="mb-6">
      <h1 class="text-2xl font-semibold text-gray-900">User Profile</h1>
      <p class="text-gray-600 mt-1"><%= @user.email %></p>
    </div>

    <!-- Profile Content -->
    <div class="space-y-6">
      
      <!-- Email Section -->
      <div class="border-b border-gray-200 pb-4">
        <p class="text-sm font-medium text-gray-700 mb-1">Email</p>
        <p class="text-lg text-gray-900"><%= @user.email %></p>
      </div>
      
      <!-- Sign up info -->
      <div class="border-b border-gray-200 pb-4">
        <p class="text-sm font-medium text-gray-700 mb-1">Member since</p>
        <p class="text-gray-900">Signed up <%= time_ago_in_words(@user.created_at) %> ago</p>
      </div>
      
      <!-- Roles Section -->
      <div class="border-b border-gray-200 pb-4">
        <p class="text-sm font-medium text-gray-700 mb-3">Roles</p>
        <div class="flex flex-wrap gap-2">
          <% @user.roles.each do |role| %>
            <span class="px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full"><%= role.name %></span>
          <% end %>
        </div>
      </div>
      
      <!-- Login Statistics -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-b border-gray-200 pb-4">
        <div>
          <p class="text-sm font-medium text-gray-700">Sign in count</p>
          <p class="text-gray-900"><%= @user.sign_in_count %></p>
        </div>
        
        <div>
          <p class="text-sm font-medium text-gray-700">Current sign in</p>
          <p class="text-gray-900"><%= @user.current_sign_in_at %></p>
        </div>
        
        <div>
          <p class="text-sm font-medium text-gray-700">Last sign in</p>
          <p class="text-gray-900"><%= @user.last_sign_in_at %></p>
        </div>
        
        <div>
          <p class="text-sm font-medium text-gray-700">Current IP</p>
          <p class="text-gray-900 font-mono text-sm"><%= @user.current_sign_in_ip %></p>
        </div>
        
        <div>
          <p class="text-sm font-medium text-gray-700">Last IP</p>
          <p class="text-gray-900 font-mono text-sm"><%= @user.last_sign_in_ip %></p>
        </div>
      </div>
      
      <!-- Email Confirmation -->
      <div>
        <p class="text-sm font-medium text-gray-700">Email confirmed</p>
        <% if @user.confirmed_at.present? %>
          <p class="text-green-600 font-medium">Yes</p>
        <% else %>
          <p class="text-red-600 font-medium">No</p>
        <% end %>
      </div>
      
    </div>
    
    <!-- Action Buttons -->
    <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200">
      <%= link_to 'Back to Users', users_path,
          class: 'px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors' %>
    </div>
    
  </div>
</div>